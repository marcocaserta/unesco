<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ORIENTEERING - The Unesco Challenge: Orienteering Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ORIENTEERING - The Unesco Challenge
   &#160;<span id="projectnumber">v1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="classOrienteering-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Orienteering Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Project Main Class.  
 <a href="classOrienteering.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ad51d9911725ce3f8d6d86a33f28f9ce2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOrienteering.html#ad51d9911725ce3f8d6d86a33f28f9ce2">main</a> (String[] args)</td></tr>
<tr class="memdesc:ad51d9911725ce3f8d6d86a33f28f9ce2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main Algorithm.  <a href="#ad51d9911725ce3f8d6d86a33f28f9ce2">More...</a><br /></td></tr>
<tr class="separator:ad51d9911725ce3f8d6d86a33f28f9ce2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4013914d9ed76e676b9c8cdd08cf9517"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOrienteering.html#a4013914d9ed76e676b9c8cdd08cf9517">computeDistances</a> (double[][] <a class="el" href="classOrienteering.html#a96a8512314c8a637f9afd8b32192112b">timeMatrix</a>)</td></tr>
<tr class="memdesc:a4013914d9ed76e676b9c8cdd08cf9517"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute distance matrix using haversine function.  <a href="#a4013914d9ed76e676b9c8cdd08cf9517">More...</a><br /></td></tr>
<tr class="separator:a4013914d9ed76e676b9c8cdd08cf9517"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65e8faf9502f34a2579a9c20752a78fa"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOrienteering.html#a65e8faf9502f34a2579a9c20752a78fa">insertionHeuristic</a> (Solution route)</td></tr>
<tr class="memdesc:a65e8faf9502f34a2579a9c20752a78fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Greedy construction of a solution via insertion.  <a href="#a65e8faf9502f34a2579a9c20752a78fa">More...</a><br /></td></tr>
<tr class="separator:a65e8faf9502f34a2579a9c20752a78fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81ea2abca0ac9a3be512503c59019b2b"><td class="memItemLeft" align="right" valign="top">static boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOrienteering.html#a81ea2abca0ac9a3be512503c59019b2b">twoOptHeuristic</a> (Solution route)</td></tr>
<tr class="memdesc:a81ea2abca0ac9a3be512503c59019b2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">2-Opt move: One site from outSet moves in and one site from inSet is out.  <a href="#a81ea2abca0ac9a3be512503c59019b2b">More...</a><br /></td></tr>
<tr class="separator:a81ea2abca0ac9a3be512503c59019b2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62fc20d31c55b880318aa8a363c846c7"><td class="memItemLeft" align="right" valign="top">static boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOrienteering.html#a62fc20d31c55b880318aa8a363c846c7">repairHeuristic</a> (Solution route)</td></tr>
<tr class="memdesc:a62fc20d31c55b880318aa8a363c846c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Repair current solution to balance number of C and N.  <a href="#a62fc20d31c55b880318aa8a363c846c7">More...</a><br /></td></tr>
<tr class="separator:a62fc20d31c55b880318aa8a363c846c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a8ca880417874fe437adc696cc827e076"><td class="memItemLeft" align="right" valign="top">static Random&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOrienteering.html#a8ca880417874fe437adc696cc827e076">random</a></td></tr>
<tr class="memdesc:a8ca880417874fe437adc696cc827e076"><td class="mdescLeft">&#160;</td><td class="mdescRight">random number generator  <a href="#a8ca880417874fe437adc696cc827e076">More...</a><br /></td></tr>
<tr class="separator:a8ca880417874fe437adc696cc827e076"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d55ef5ea9f8b9f491c864a486e2e6bc"><td class="memItemLeft" align="right" valign="top">static double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOrienteering.html#a6d55ef5ea9f8b9f491c864a486e2e6bc">latitude</a> = 51.533241</td></tr>
<tr class="memdesc:a6d55ef5ea9f8b9f491c864a486e2e6bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Latitude Home point.  <a href="#a6d55ef5ea9f8b9f491c864a486e2e6bc">More...</a><br /></td></tr>
<tr class="separator:a6d55ef5ea9f8b9f491c864a486e2e6bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec93ccaed1f1c5ebd5cc5c88c00bb7c8"><td class="memItemLeft" align="right" valign="top">static double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOrienteering.html#aec93ccaed1f1c5ebd5cc5c88c00bb7c8">longitude</a> = -0.104839</td></tr>
<tr class="separator:aec93ccaed1f1c5ebd5cc5c88c00bb7c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae93f0969c413699acce684e877197c54"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOrienteering.html#ae93f0969c413699acce684e877197c54">stochastic</a> = 0</td></tr>
<tr class="memdesc:ae93f0969c413699acce684e877197c54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Longitude Home point.  <a href="#ae93f0969c413699acce684e877197c54">More...</a><br /></td></tr>
<tr class="separator:ae93f0969c413699acce684e877197c54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60482c3e55c9d16a72fc4d004ce0350c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOrienteering.html#a60482c3e55c9d16a72fc4d004ce0350c">home</a> = 0</td></tr>
<tr class="memdesc:a60482c3e55c9d16a72fc4d004ce0350c"><td class="mdescLeft">&#160;</td><td class="mdescRight">default id of HOME node  <a href="#a60482c3e55c9d16a72fc4d004ce0350c">More...</a><br /></td></tr>
<tr class="separator:a60482c3e55c9d16a72fc4d004ce0350c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a303d00f5824339ce3f520ae3cb8e8091"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOrienteering.html#a303d00f5824339ce3f520ae3cb8e8091">nSites</a> = 0</td></tr>
<tr class="separator:a303d00f5824339ce3f520ae3cb8e8091"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b85f6fbd0c09345703dfd9604718b88"><td class="memItemLeft" align="right" valign="top">static ArrayList&lt; Record &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOrienteering.html#a7b85f6fbd0c09345703dfd9604718b88">DataFrame</a> = new ArrayList&lt;Record&gt;()</td></tr>
<tr class="separator:a7b85f6fbd0c09345703dfd9604718b88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5752dcbe4576ff567f5d4a0b73f99a92"><td class="memItemLeft" align="right" valign="top">static double []&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOrienteering.html#a5752dcbe4576ff567f5d4a0b73f99a92">lat</a></td></tr>
<tr class="memdesc:a5752dcbe4576ff567f5d4a0b73f99a92"><td class="mdescLeft">&#160;</td><td class="mdescRight">latitude of each site  <a href="#a5752dcbe4576ff567f5d4a0b73f99a92">More...</a><br /></td></tr>
<tr class="separator:a5752dcbe4576ff567f5d4a0b73f99a92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4e713118c939e6fa814e6d92e49591f"><td class="memItemLeft" align="right" valign="top">static double []&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOrienteering.html#ab4e713118c939e6fa814e6d92e49591f">lon</a></td></tr>
<tr class="memdesc:ab4e713118c939e6fa814e6d92e49591f"><td class="mdescLeft">&#160;</td><td class="mdescRight">longitude of each site  <a href="#ab4e713118c939e6fa814e6d92e49591f">More...</a><br /></td></tr>
<tr class="separator:ab4e713118c939e6fa814e6d92e49591f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae20d805b8f2b3ff9803cb36b17896e79"><td class="memItemLeft" align="right" valign="top">static int []&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOrienteering.html#ae20d805b8f2b3ff9803cb36b17896e79">danger</a></td></tr>
<tr class="memdesc:ae20d805b8f2b3ff9803cb36b17896e79"><td class="mdescLeft">&#160;</td><td class="mdescRight">whether a site is endangered (1) or not (0)  <a href="#ae20d805b8f2b3ff9803cb36b17896e79">More...</a><br /></td></tr>
<tr class="separator:ae20d805b8f2b3ff9803cb36b17896e79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf480c15b887b9f0028c799a65913252"><td class="memItemLeft" align="right" valign="top">static String []&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOrienteering.html#acf480c15b887b9f0028c799a65913252">country</a></td></tr>
<tr class="memdesc:acf480c15b887b9f0028c799a65913252"><td class="mdescLeft">&#160;</td><td class="mdescRight">country iso code of each site  <a href="#acf480c15b887b9f0028c799a65913252">More...</a><br /></td></tr>
<tr class="separator:acf480c15b887b9f0028c799a65913252"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19d81cf0073191c977a00fd87c7dfc90"><td class="memItemLeft" align="right" valign="top">static String []&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOrienteering.html#a19d81cf0073191c977a00fd87c7dfc90">category</a></td></tr>
<tr class="memdesc:a19d81cf0073191c977a00fd87c7dfc90"><td class="mdescLeft">&#160;</td><td class="mdescRight">category (C, N, or C/N) of each site  <a href="#a19d81cf0073191c977a00fd87c7dfc90">More...</a><br /></td></tr>
<tr class="separator:a19d81cf0073191c977a00fd87c7dfc90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96a8512314c8a637f9afd8b32192112b"><td class="memItemLeft" align="right" valign="top">static double [][]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOrienteering.html#a96a8512314c8a637f9afd8b32192112b">timeMatrix</a></td></tr>
<tr class="memdesc:a96a8512314c8a637f9afd8b32192112b"><td class="mdescLeft">&#160;</td><td class="mdescRight">nSites x nSites travel time matrix  <a href="#a96a8512314c8a637f9afd8b32192112b">More...</a><br /></td></tr>
<tr class="separator:a96a8512314c8a637f9afd8b32192112b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28e5e04700cb27effb7dc49ba3f1bd80"><td class="memItemLeft" align="right" valign="top">static Solution&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOrienteering.html#a28e5e04700cb27effb7dc49ba3f1bd80">bestRoute</a> = new Solution(<a class="el" href="classOrienteering.html#a60482c3e55c9d16a72fc4d004ce0350c">home</a>, <a class="el" href="classOrienteering.html#a303d00f5824339ce3f520ae3cb8e8091">nSites</a>)</td></tr>
<tr class="separator:a28e5e04700cb27effb7dc49ba3f1bd80"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Project Main Class. </p>
<p>This code solves a variant of the <a class="el" href="classOrienteering.html" title="Project Main Class. ">Orienteering</a> problem. A thorough presentation of the model is found in the document <code>summary.pdf</code> under the folder docs/summary. please, have a look at that document to find a description of the algorithm.</p>
<p>This class implements the four heuristics of the Iterative Local Search algorithm, namely: </p><ul>
<li>
the <a class="el" href="classOrienteering.html#a65e8faf9502f34a2579a9c20752a78fa" title="Greedy construction of a solution via insertion. ">insertionHeuristic()</a> </li>
<li>
the <a class="el" href="classOrienteering.html#a81ea2abca0ac9a3be512503c59019b2b" title="2-Opt move: One site from outSet moves in and one site from inSet is out. ">twoOptHeuristic()</a> </li>
<li>
the <a class="el" href="classOrienteering.html#a62fc20d31c55b880318aa8a363c846c7" title="Repair current solution to balance number of C and N. ">repairHeuristic()</a> </li>
<li>
the randomRemoveOne() </li>
</ul>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a4013914d9ed76e676b9c8cdd08cf9517"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4013914d9ed76e676b9c8cdd08cf9517">&#9670;&nbsp;</a></span>computeDistances()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void Orienteering.computeDistances </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>timeMatrix</em>[][]</td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compute distance matrix using haversine function. </p>
<p>This function return the timeMatrix matrix. The matrix is triangular. However, we keep here the full matrix, for ease of access.</p>
<p>NOTE: This is not a distance matrix. The values are travel times across points, since the distance in km is divided by the travel speed (in km/minute).</p>
<p>Currently, we have that the travel speed is 80km/h, i.e., 80/60 km/min. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="classHaversineDistance.html" title="Implementation Haversine Distance Algorithm between two points. ">HaversineDistance()</a> </dd></dl>

<p class="reference">References <a class="el" href="classHaversineDistance.html#a93a454b822cbfcc6ffd9471c07c455a9">HaversineDistance.dist()</a>, and <a class="el" href="classOrienteering.html#a303d00f5824339ce3f520ae3cb8e8091">nSites</a>.</p>

<p class="reference">Referenced by <a class="el" href="classOrienteering.html#ad51d9911725ce3f8d6d86a33f28f9ce2">main()</a>.</p>

</div>
</div>
<a id="a65e8faf9502f34a2579a9c20752a78fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65e8faf9502f34a2579a9c20752a78fa">&#9670;&nbsp;</a></span>insertionHeuristic()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void Orienteering.insertionHeuristic </td>
          <td>(</td>
          <td class="paramtype">Solution&#160;</td>
          <td class="paramname"><em>route</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Greedy construction of a solution via insertion. </p>
<p>Starting from a solution of type <img class="formulaInl" alt="$\textbf{x} = ( 0, 0) $" src="form_0.png"/>, where <img class="formulaInl" alt="$\textbf{x}$" src="form_1.png"/> indicates the home (starting and ending point), we progressively add, in a greedy fashion, the most promising site. The attractiveness of a site is measured using the followinwing score: </p><p class="formulaDsp">
<img class="formulaDsp" alt="\[\sigma_{ij} = \frac{\Delta z_i}{\Delta t_{ij}} \]" src="form_2.png"/>
</p>
<p> where <img class="formulaInl" alt="$\Delta z_i$" src="form_3.png"/> is the increase in the objective function value associated to the inclusion of the <img class="formulaInl" alt="$i^{th}$" src="form_4.png"/> site, and <img class="formulaInl" alt="$\Delta t_{ij}$" src="form_5.png"/> is the increase in time due to the introduction of site <img class="formulaInl" alt="$i$" src="form_6.png"/> after site <img class="formulaInl" alt="$j$" src="form_7.png"/> (which is obviously in the current solution.)</p>
<p>Therefore, for each cycle of the greedy heuristic, we determine (i) which candidate should be added to the current solution (if any) and (ii) in which position w.r.t. the sites in the current solution.</p>
<p>The insertion mechanism is repeated as long as the budget constraint is not violated. The greedy mechanism stops when either no item currently not in the solution fits within the budget limits, or no items are left in the <code>outSet</code>. </p>

<p class="reference">Referenced by <a class="el" href="classOrienteering.html#ad51d9911725ce3f8d6d86a33f28f9ce2">main()</a>.</p>

</div>
</div>
<a id="ad51d9911725ce3f8d6d86a33f28f9ce2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad51d9911725ce3f8d6d86a33f28f9ce2">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void Orienteering.main </td>
          <td>(</td>
          <td class="paramtype">String []&#160;</td>
          <td class="paramname"><em>args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Main Algorithm. </p>
<p>This algorithm implements an Iterative Local Search (ILS) heuristic scheme for a variant of the <a class="el" href="classOrienteering.html" title="Project Main Class. ">Orienteering</a> problem. </p>
<p>&lt; count nr iterations without improvements</p>
<p>&lt; iteration counter </p>

<p class="reference">References <a class="el" href="classOrienteering.html#a19d81cf0073191c977a00fd87c7dfc90">category</a>, <a class="el" href="classOrienteering.html#a4013914d9ed76e676b9c8cdd08cf9517">computeDistances()</a>, <a class="el" href="classOrienteering.html#acf480c15b887b9f0028c799a65913252">country</a>, <a class="el" href="classOrienteering.html#a65e8faf9502f34a2579a9c20752a78fa">insertionHeuristic()</a>, <a class="el" href="classOrienteering.html#a6d55ef5ea9f8b9f491c864a486e2e6bc">latitude</a>, <a class="el" href="classOrienteering.html#aec93ccaed1f1c5ebd5cc5c88c00bb7c8">longitude</a>, <a class="el" href="classOrienteering.html#a303d00f5824339ce3f520ae3cb8e8091">nSites</a>, <a class="el" href="classReadCSV.html#a4983c6a36d171f35c441b8fe8a6fd8be">ReadCSV.readData()</a>, <a class="el" href="classOrienteering.html#a62fc20d31c55b880318aa8a363c846c7">repairHeuristic()</a>, and <a class="el" href="classOrienteering.html#a81ea2abca0ac9a3be512503c59019b2b">twoOptHeuristic()</a>.</p>

</div>
</div>
<a id="a62fc20d31c55b880318aa8a363c846c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62fc20d31c55b880318aa8a363c846c7">&#9670;&nbsp;</a></span>repairHeuristic()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static boolean Orienteering.repairHeuristic </td>
          <td>(</td>
          <td class="paramtype">Solution&#160;</td>
          <td class="paramname"><em>route</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Repair current solution to balance number of C and N. </p>
<p>The <em>balance</em> constraint is addressed here. The 2-Opt and the construction heuristic work on a 'relaxed' version of the original problem. The constraint that states that an equal number of sites of type C and N should be visited (where sites of type C/N can be accounted for both ways) has not been considered. Therefore, after any of the two heuristic mechanisms, it is quite possible that the solution is not feasible with respect to the balance constraint.</p>
<p>A repair heuristic is implemented here in two steps: We first identify the imbalance. For example, as in the case of the unesco dataset, assume that we have more C than N. We need a repair mechanism when: </p><p class="formulaDsp">
<img class="formulaDsp" alt="\[ |n_C - n_N | &gt; n_{MIX} + 1 \]" src="form_14.png"/>
</p>
<p> In other words, we allow for a maximal discrepancy of 1 site, as opposed to imposing that exactly the same number of sites of the two types are visited. This latter interpretation of the requirement would force the solution to contain an even number of sites (which seems to be too restrictive.) Here, instead, we admit a maximum difference of one site for one of the two categiries. If this interpretation is not acceptable, it suffices to remove one extra site from the solution produced by this function.</p>
<ul>
<li>
Attempt to swap one element from cateogry C currently in inSet with one element of category N from outSet. We select the one with the best effect on the objective function value (even if negative). </li>
<li>
If the repair mechanism fails, randomly remove one element from inSet among those sites with Category C. </li>
</ul>

<p class="reference">References <a class="el" href="classOrienteering.html#a19d81cf0073191c977a00fd87c7dfc90">category</a>, <a class="el" href="classOrienteering.html#acf480c15b887b9f0028c799a65913252">country</a>, <a class="el" href="classOrienteering.html#ae20d805b8f2b3ff9803cb36b17896e79">danger</a>, <a class="el" href="classOrienteering.html#a60482c3e55c9d16a72fc4d004ce0350c">home</a>, <a class="el" href="classOrienteering.html#a6d55ef5ea9f8b9f491c864a486e2e6bc">latitude</a>, <a class="el" href="classOrienteering.html#aec93ccaed1f1c5ebd5cc5c88c00bb7c8">longitude</a>, <a class="el" href="classOrienteering.html#a303d00f5824339ce3f520ae3cb8e8091">nSites</a>, <a class="el" href="classOrienteering.html#a8ca880417874fe437adc696cc827e076">random</a>, and <a class="el" href="classOrienteering.html#a96a8512314c8a637f9afd8b32192112b">timeMatrix</a>.</p>

<p class="reference">Referenced by <a class="el" href="classOrienteering.html#ad51d9911725ce3f8d6d86a33f28f9ce2">main()</a>.</p>

</div>
</div>
<a id="a81ea2abca0ac9a3be512503c59019b2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81ea2abca0ac9a3be512503c59019b2b">&#9670;&nbsp;</a></span>twoOptHeuristic()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static boolean Orienteering.twoOptHeuristic </td>
          <td>(</td>
          <td class="paramtype">Solution&#160;</td>
          <td class="paramname"><em>route</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>2-Opt move: One site from outSet moves in and one site from inSet is out. </p>
<p>An Iterative Local Search (ILS) approach is used here. We start from an initial solution, typically built via <a class="el" href="classOrienteering.html#a65e8faf9502f34a2579a9c20752a78fa" title="Greedy construction of a solution via insertion. ">insertionHeuristic()</a>. Next, we define a <b>neighborhood</b> as the set of solutions that can be reached from the incumbent swapping one site in inSet with one site from outSet. In this Neighborhood, we select the solution, among the feasible ones, that leads to the maximum increase in the objective function value.</p>
<p>At each step of the ILS, two cases can arise: </p><ul>
<li>
An improving solution has been found: In this case, we set this solution as incumbent and we draw a neighborhood around the new incumbent. The local search restarts for a new iteration. </li>
<li>
An improving solution has not been found in the current Neighborhood. We could apply a, e.g., Variable Neighborhood Search, to increase the neighborhood size around the incumbent and restart with the ILS. We did not implement such as scheme. In this version of the code, when an improving solution has not been found, we stop and terminate the 2-Opt heuristic. </li>
</ul>
<p>A classical 2-Opt move is implemented as follows. Assume a solution of the following type is given: </p><p class="formulaDsp">
<img class="formulaDsp" alt="\[ \textbf{x} = (\ldots, p_j, j, n_j, \ldots) \]" src="form_8.png"/>
</p>
<p> where <img class="formulaInl" alt="$j$" src="form_7.png"/> has been chosen for exclusion from <img class="formulaInl" alt="$\textbf{x}$" src="form_1.png"/>, and <img class="formulaInl" alt="$p_j$" src="form_9.png"/> and <img class="formulaInl" alt="$n_j$" src="form_10.png"/> are the elements preceding and followining <img class="formulaInl" alt="$j$" src="form_7.png"/>, respectively. In addition, assume that element <img class="formulaInl" alt="$k$" src="form_11.png"/> is selected for insertion.</p>
<p>A move that swaps <img class="formulaInl" alt="$j$" src="form_7.png"/> with <img class="formulaInl" alt="$k$" src="form_11.png"/> has the following <img class="formulaInl" alt="$\Delta_{kj}$" src="form_12.png"/> and the following <img class="formulaInl" alt="$\Delta t_{kj}$" src="form_13.png"/>: </p>

<p class="reference">Referenced by <a class="el" href="classOrienteering.html#ad51d9911725ce3f8d6d86a33f28f9ce2">main()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a28e5e04700cb27effb7dc49ba3f1bd80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28e5e04700cb27effb7dc49ba3f1bd80">&#9670;&nbsp;</a></span>bestRoute</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Solution Orienteering.bestRoute = new Solution(<a class="el" href="classOrienteering.html#a60482c3e55c9d16a72fc4d004ce0350c">home</a>, <a class="el" href="classOrienteering.html#a303d00f5824339ce3f520ae3cb8e8091">nSites</a>)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a19d81cf0073191c977a00fd87c7dfc90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19d81cf0073191c977a00fd87c7dfc90">&#9670;&nbsp;</a></span>category</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">String [] Orienteering.category</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>category (C, N, or C/N) of each site </p>

<p class="reference">Referenced by <a class="el" href="classOrienteering.html#ad51d9911725ce3f8d6d86a33f28f9ce2">main()</a>, and <a class="el" href="classOrienteering.html#a62fc20d31c55b880318aa8a363c846c7">repairHeuristic()</a>.</p>

</div>
</div>
<a id="acf480c15b887b9f0028c799a65913252"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf480c15b887b9f0028c799a65913252">&#9670;&nbsp;</a></span>country</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">String [] Orienteering.country</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>country iso code of each site </p>

<p class="reference">Referenced by <a class="el" href="classOrienteering.html#ad51d9911725ce3f8d6d86a33f28f9ce2">main()</a>, and <a class="el" href="classOrienteering.html#a62fc20d31c55b880318aa8a363c846c7">repairHeuristic()</a>.</p>

</div>
</div>
<a id="ae20d805b8f2b3ff9803cb36b17896e79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae20d805b8f2b3ff9803cb36b17896e79">&#9670;&nbsp;</a></span>danger</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int [] Orienteering.danger</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>whether a site is endangered (1) or not (0) </p>

<p class="reference">Referenced by <a class="el" href="classOrienteering.html#a62fc20d31c55b880318aa8a363c846c7">repairHeuristic()</a>.</p>

</div>
</div>
<a id="a7b85f6fbd0c09345703dfd9604718b88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b85f6fbd0c09345703dfd9604718b88">&#9670;&nbsp;</a></span>DataFrame</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ArrayList&lt;Record&gt; Orienteering.DataFrame = new ArrayList&lt;Record&gt;()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classReadCSV.html#a4983c6a36d171f35c441b8fe8a6fd8be">ReadCSV.readData()</a>.</p>

</div>
</div>
<a id="a60482c3e55c9d16a72fc4d004ce0350c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60482c3e55c9d16a72fc4d004ce0350c">&#9670;&nbsp;</a></span>home</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Orienteering.home = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>default id of HOME node </p>

<p class="reference">Referenced by <a class="el" href="classOrienteering.html#a62fc20d31c55b880318aa8a363c846c7">repairHeuristic()</a>.</p>

</div>
</div>
<a id="a5752dcbe4576ff567f5d4a0b73f99a92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5752dcbe4576ff567f5d4a0b73f99a92">&#9670;&nbsp;</a></span>lat</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double [] Orienteering.lat</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>latitude of each site </p>

</div>
</div>
<a id="a6d55ef5ea9f8b9f491c864a486e2e6bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d55ef5ea9f8b9f491c864a486e2e6bc">&#9670;&nbsp;</a></span>latitude</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double Orienteering.latitude = 51.533241</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Latitude Home point. </p>

<p class="reference">Referenced by <a class="el" href="classOrienteering.html#ad51d9911725ce3f8d6d86a33f28f9ce2">main()</a>, and <a class="el" href="classOrienteering.html#a62fc20d31c55b880318aa8a363c846c7">repairHeuristic()</a>.</p>

</div>
</div>
<a id="ab4e713118c939e6fa814e6d92e49591f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4e713118c939e6fa814e6d92e49591f">&#9670;&nbsp;</a></span>lon</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double [] Orienteering.lon</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>longitude of each site </p>

</div>
</div>
<a id="aec93ccaed1f1c5ebd5cc5c88c00bb7c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec93ccaed1f1c5ebd5cc5c88c00bb7c8">&#9670;&nbsp;</a></span>longitude</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double Orienteering.longitude = -0.104839</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classOrienteering.html#ad51d9911725ce3f8d6d86a33f28f9ce2">main()</a>, and <a class="el" href="classOrienteering.html#a62fc20d31c55b880318aa8a363c846c7">repairHeuristic()</a>.</p>

</div>
</div>
<a id="a303d00f5824339ce3f520ae3cb8e8091"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a303d00f5824339ce3f520ae3cb8e8091">&#9670;&nbsp;</a></span>nSites</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Orienteering.nSites = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classOrienteering.html#a4013914d9ed76e676b9c8cdd08cf9517">computeDistances()</a>, <a class="el" href="classOrienteering.html#ad51d9911725ce3f8d6d86a33f28f9ce2">main()</a>, and <a class="el" href="classOrienteering.html#a62fc20d31c55b880318aa8a363c846c7">repairHeuristic()</a>.</p>

</div>
</div>
<a id="a8ca880417874fe437adc696cc827e076"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ca880417874fe437adc696cc827e076">&#9670;&nbsp;</a></span>random</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Random Orienteering.random</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>random number generator </p>

<p class="reference">Referenced by <a class="el" href="classOrienteering.html#a62fc20d31c55b880318aa8a363c846c7">repairHeuristic()</a>.</p>

</div>
</div>
<a id="ae93f0969c413699acce684e877197c54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae93f0969c413699acce684e877197c54">&#9670;&nbsp;</a></span>stochastic</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Orienteering.stochastic = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Longitude Home point. </p>
<p>set to 1 if stochastic, 0 if determ </p>

</div>
</div>
<a id="a96a8512314c8a637f9afd8b32192112b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96a8512314c8a637f9afd8b32192112b">&#9670;&nbsp;</a></span>timeMatrix</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double [][] Orienteering.timeMatrix</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>nSites x nSites travel time matrix </p>

<p class="reference">Referenced by <a class="el" href="classOrienteering.html#a62fc20d31c55b880318aa8a363c846c7">repairHeuristic()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/<a class="el" href="Orienteering_8java.html">Orienteering.java</a></li>
</ul>
</div><!-- contents -->
<hr size="1"><address style="align: right;"><small>
Generated on Fri Feb 7 2020 14:40:38 for ORIENTEERING - The Unesco Challenge by Marco Caserta 2020 (c) (<a
href="">name dot lastname at ie dot edu</a>).</small></address>
</body>
</html>
